<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Amy Hilla" />

<meta name="date" content="2020-08-21" />

<title>About the Coder Assignment</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Spatial Data Discovery</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learning
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="learning-git.html">Git</a>
    </li>
    <li>
      <a href="learning-hdf.html">HDF</a>
    </li>
    <li>
      <a href="learning-netcdf.html">NetCDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources-code.html">Code</a>
    </li>
    <li>
      <a href="resources-data.html">Data</a>
    </li>
    <li>
      <a href="resources-links.html">Links</a>
    </li>
    <li>
      <a href="resources-methods.html">Methods</a>
    </li>
    <li>
      <a href="resources-software.html">Software</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Spatial Discovery
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Example</li>
    <li>
      <a href="project-dtwoods.html">Breathing of the Biosphere</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="current-projects.html">Current Projects</a>
    </li>
    <li>
      <a href="projects.html">All Projects</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about-dtwoods.html">About the Professor</a>
    </li>
    <li>
      <a href="schedule.html">Schedule</a>
    </li>
    <li>
      <a href="syllabus.html">Syllabus</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="current-development-team.html">Current Developers</a>
    </li>
    <li>
      <a href="about.html">All Developers</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/spatial-data-discovery/spatial-data-discovery.github.io">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">About the Coder Assignment</h1>
<h4 class="author">Amy Hilla</h4>
<h4 class="date">August 21, 2020</h4>

</div>


<div class="figure">
<img src="https://drive.google.com/file/d/1N0p_F9XertXy_5O2jaCnE4s3kgBxItSv/view?usp=sharing" alt="Picture of me when I was studying abroad in Thailand" />
<p class="caption">Picture of me when I was studying abroad in Thailand</p>
</div>
<dl>
<dt>Bio</dt>
<dd>I’m Amy Hilla, and I’m from Arlington VA. I’m a senior, majoring in Economics and minoring in Data Science. I’m on the club sailing team and I’m in Tri Delt.
</dd>
</dl>
<p><em>Things I’m interested in:</em></p>
<ul>
<li>International elections and election data</li>
<li>Sailing</li>
<li>Baking</li>
<li>watching really bad TV shows</li>
</ul>
<div id="sample-script" class="section level3">
<h3>Sample script:</h3>
<p><a href="scripts/sentiment_analysis.py">sentiment analysis (.py)</a></p>
<p>This script takes .csv files with text data and analyzes the text in each row. It assigns two sentiment scores, assessing subjectivity and polarity. The sentiment scores are added to the .csv as a new column, then the .csv with sentiment scores is exported as a new file.</p>
<audio controls>
<source src="audio/sentiment_analysis.mp3">
</audio>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># sentiment_analysis.py</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># By: Amy Hilla</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co"># Version 1.0</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co"># Last Edit: 2020-09-03</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co"># This script takes .csv files with text data</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co"># and analyzes the text in each row</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co"># it assigns two sentiment scores, assessing subjectivity and polarity</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co"># the sentiment scores are added to the .csv as a new column</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co"># the .csv with sentiment scores is then exported as a new file</span></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co">####################</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co"># Required Modules  #</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co">####################</span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="im">import</span> argparse</a>
<a class="sourceLine" id="cb1-20" title="20"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb1-21" title="21"><span class="im">from</span> textblob <span class="im">import</span> TextBlob</a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23"></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="co">####################</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="co">#    Function      #</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="co">####################</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="kw">def</span> sentiment_scores():</a>
<a class="sourceLine" id="cb1-28" title="28"></a>
<a class="sourceLine" id="cb1-29" title="29">    <span class="co"># User inputs information about what they want to analyze:</span></a>
<a class="sourceLine" id="cb1-30" title="30">    path_to_file <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter file path to .csv file: &#39;</span>)</a>
<a class="sourceLine" id="cb1-31" title="31"></a>
<a class="sourceLine" id="cb1-32" title="32">    encodingtype <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter encoding type for .csv file: &#39;</span>)</a>
<a class="sourceLine" id="cb1-33" title="33"></a>
<a class="sourceLine" id="cb1-34" title="34">    column_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter the name of the column containing text you want to analyze: &#39;</span>)</a>
<a class="sourceLine" id="cb1-35" title="35"></a>
<a class="sourceLine" id="cb1-36" title="36">    new_file_name <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Enter the name of the new file you want to output: &#39;</span>)</a>
<a class="sourceLine" id="cb1-37" title="37"></a>
<a class="sourceLine" id="cb1-38" title="38">    <span class="co"># read in the file as a pandas dataframe</span></a>
<a class="sourceLine" id="cb1-39" title="39">    alldisc <span class="op">=</span> pd.read_csv(path_to_file, encoding <span class="op">=</span> encodingtype)</a>
<a class="sourceLine" id="cb1-40" title="40"></a>
<a class="sourceLine" id="cb1-41" title="41">    <span class="co"># create an empty list which will store the sentiment scores</span></a>
<a class="sourceLine" id="cb1-42" title="42">    senti <span class="op">=</span> []</a>
<a class="sourceLine" id="cb1-43" title="43"></a>
<a class="sourceLine" id="cb1-44" title="44">    <span class="co"># analyze the text data row by row</span></a>
<a class="sourceLine" id="cb1-45" title="45">    <span class="cf">for</span> post <span class="kw">in</span> alldisc[column_name]:</a>
<a class="sourceLine" id="cb1-46" title="46"></a>
<a class="sourceLine" id="cb1-47" title="47">        <span class="co"># for each row, first check that the text data is a string</span></a>
<a class="sourceLine" id="cb1-48" title="48">        <span class="cf">if</span> <span class="bu">type</span>(post) <span class="op">==</span> <span class="bu">str</span>:</a>
<a class="sourceLine" id="cb1-49" title="49"></a>
<a class="sourceLine" id="cb1-50" title="50">            <span class="co"># convert to TextBlob object</span></a>
<a class="sourceLine" id="cb1-51" title="51">            blob <span class="op">=</span> TextBlob(post)</a>
<a class="sourceLine" id="cb1-52" title="52"></a>
<a class="sourceLine" id="cb1-53" title="53">            <span class="co"># use TextBlob object attribute .sentiment to calculate sentiment scores</span></a>
<a class="sourceLine" id="cb1-54" title="54">            sent <span class="op">=</span> blob.sentiment</a>
<a class="sourceLine" id="cb1-55" title="55"></a>
<a class="sourceLine" id="cb1-56" title="56">            <span class="co"># add the calculated sentiment scores to the list senti containing all the scores</span></a>
<a class="sourceLine" id="cb1-57" title="57">            senti.append(sent)</a>
<a class="sourceLine" id="cb1-58" title="58"></a>
<a class="sourceLine" id="cb1-59" title="59">        <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-60" title="60">            <span class="co"># if the row being analyzed does not contain string data, add &#39;invalid&#39; for that row</span></a>
<a class="sourceLine" id="cb1-61" title="61">            <span class="co"># this allows the function to run even if some rows are empty or contain non-string data</span></a>
<a class="sourceLine" id="cb1-62" title="62">            <span class="co"># in the final .csv, the column containing scores will contain &#39;invalid&#39; for these rows</span></a>
<a class="sourceLine" id="cb1-63" title="63">            senti.append(<span class="st">&#39;invalid&#39;</span>)</a>
<a class="sourceLine" id="cb1-64" title="64"></a>
<a class="sourceLine" id="cb1-65" title="65">    <span class="co">#add the new list of sentiment scores to the original table</span></a>
<a class="sourceLine" id="cb1-66" title="66">    alldisc[<span class="st">&#39;sentiment&#39;</span>] <span class="op">=</span> senti</a>
<a class="sourceLine" id="cb1-67" title="67"></a>
<a class="sourceLine" id="cb1-68" title="68">    <span class="co">#export the table with the sentiment scores to a new .csv</span></a>
<a class="sourceLine" id="cb1-69" title="69">    alldisc.to_csv(new_file_name, encoding <span class="op">=</span> encodingtype)</a>
<a class="sourceLine" id="cb1-70" title="70"></a>
<a class="sourceLine" id="cb1-71" title="71">    <span class="co"># tell the user they have succesfully created a new file with the scores</span></a>
<a class="sourceLine" id="cb1-72" title="72">    <span class="cf">return</span> <span class="bu">print</span>(<span class="st">&#39;Your new .csv with the sentiment scores, &#39;</span> <span class="op">+</span> <span class="bu">str</span>(new_file_name) <span class="op">+</span> <span class="st">&#39;, has been created.&#39;</span>)</a>
<a class="sourceLine" id="cb1-73" title="73"></a>
<a class="sourceLine" id="cb1-74" title="74"><span class="co">###################</span></a>
<a class="sourceLine" id="cb1-75" title="75"><span class="co">#      Main       #</span></a>
<a class="sourceLine" id="cb1-76" title="76"><span class="co">###################</span></a>
<a class="sourceLine" id="cb1-77" title="77"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb1-78" title="78"></a>
<a class="sourceLine" id="cb1-79" title="79">    <span class="co"># --help command line description</span></a>
<a class="sourceLine" id="cb1-80" title="80">    parser <span class="op">=</span> argparse.ArgumentParser(description<span class="op">=</span><span class="st">&#39;This script will ask you for a .csv file, with at least one column containing text data that you want to perform sentiment analysis on. Then it will calculate subjectivity and polarity scores and create a new .csv file containing the scores.&#39;</span>)</a>
<a class="sourceLine" id="cb1-81" title="81">    args <span class="op">=</span> parser.parse_args()</a>
<a class="sourceLine" id="cb1-82" title="82"></a>
<a class="sourceLine" id="cb1-83" title="83">    sentiment_scores()</a></code></pre></div>
</div>

<footer class="myfoot">
    <div class="foot-text">
        <p>Data Science at William &amp; Mary (2020)</p>
    </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
