<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Tyler W. Davis, PhD" />


<title>About the Coder</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #0000ff; } /* Keyword */
code > span.ch { color: #008080; } /* Char */
code > span.st { color: #008080; } /* String */
code > span.co { color: #008000; } /* Comment */
code > span.ot { color: #ff4000; } /* Other */
code > span.al { color: #ff0000; } /* Alert */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #008000; font-weight: bold; } /* Warning */
code > span.cn { } /* Constant */
code > span.sc { color: #008080; } /* SpecialChar */
code > span.vs { color: #008080; } /* VerbatimString */
code > span.ss { color: #008080; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #0000ff; } /* ControlFlow */
code > span.op { } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ff4000; } /* Preprocessor */
code > span.do { color: #008000; } /* Documentation */
code > span.an { color: #008000; } /* Annotation */
code > span.cv { color: #008000; } /* CommentVar */
code > span.at { } /* Attribute */
code > span.in { color: #008000; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Spatial Data Discovery</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learning
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="learning/netcdf/index.html">NetCDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resource_data.html">Data</a>
    </li>
    <li>
      <a href="resource_link.html">Links</a>
    </li>
    <li>
      <a href="resource_meth.html">Methods</a>
    </li>
    <li>
      <a href="resource_soft.html">Software</a>
    </li>
    <li>
      <a href="https://drdavis.space/teaching/ds/sdd/syllabus/2020/spring/">Syllabus</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Spatial Discovery
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Example</li>
    <li>
      <a href="project_dtwoods.html">Breathing of the Biosphere</a>
    </li>
    <li>
      <a href="projects.html">Previous Projects</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Spring 2020</li>
    <li>
      <a href="project_irthompson01.html">Climate Change As Seen In Oceans</a>
    </li>
    <li>
      <a href="project_jrgarst.html">Electronic Content In Libraries</a>
    </li>
    <li>
      <a href="project_nd3600.html">Fast Food and Obesity</a>
    </li>
    <li>
      <a href="project_grluisi.html">Global Earthquake Frequency</a>
    </li>
    <li>
      <a href="project_gnmaniaci.html">Google Trends &amp; Vaccine Rates</a>
    </li>
    <li>
      <a href="project_pulakraj.html">Hidden in the Light</a>
    </li>
    <li>
      <a href="project_emmgillstrick.html">Land Development in Asia</a>
    </li>
    <li>
      <a href="project_jlollen.html">Opioid Epidemic</a>
    </li>
    <li>
      <a href="project_baier.html">Philippines School Chooser</a>
    </li>
    <li>
      <a href="project_leanlow.html">Pollen Index</a>
    </li>
    <li>
      <a href="project_intj1.html">Projecting COVID-19 Cases</a>
    </li>
    <li>
      <a href="project_rhan9.html">Rise of a Superstar</a>
    </li>
    <li>
      <a href="project_mkcusick.html">Spread of COVID-19 in the USA</a>
    </li>
    <li>
      <a href="project_msuri.html">Strictness of COVID-19 Policies</a>
    </li>
    <li>
      <a href="project_aburke01.html">Stunted Superfund Cleanup</a>
    </li>
    <li>
      <a href="project_abgaddi.html">UNICEF and the Third SDG</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">The Coder Pages</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Spring 2020 Team</li>
    <li>
      <a href="about_abgaddi.html">abgaddi</a>
    </li>
    <li>
      <a href="about_aburke01.html">aburke01</a>
    </li>
    <li>
      <a href="about_dtwoods.html">dt-woods</a>
    </li>
    <li>
      <a href="about_elkelthen.html">elkelthen</a>
    </li>
    <li>
      <a href="about_emmgillstrick.html">emmgillstrick</a>
    </li>
    <li>
      <a href="about_gnmaniaci.html">gnmaniaci</a>
    </li>
    <li>
      <a href="about_grluisi.html">grluisi</a>
    </li>
    <li>
      <a href="about_hmbaier.html">hmbaier</a>
    </li>
    <li>
      <a href="about_intj1.html">intj1</a>
    </li>
    <li>
      <a href="about_irthompson01.html">irthompson01</a>
    </li>
    <li>
      <a href="about_jlollen.html">jlollen</a>
    </li>
    <li>
      <a href="about_jpcasale.html">jpcasale</a>
    </li>
    <li>
      <a href="about_leanlow.html">leanlow</a>
    </li>
    <li>
      <a href="about_luhuynh.html">luhuynh</a>
    </li>
    <li>
      <a href="about_mallikasuri.html">mallikasuri</a>
    </li>
    <li>
      <a href="about_matt-kc.html">matt-kc</a>
    </li>
    <li>
      <a href="about_nd3600.html">nd3600</a>
    </li>
    <li>
      <a href="about_pulakraj.html">pulakraj</a>
    </li>
    <li>
      <a href="about_rhan9.html">rhan9</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/spatial-data-discovery/spatial-data-discovery.github.io">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">About the Coder</h1>
<h4 class="author">Tyler W. Davis, PhD</h4>
<h4 class="date">Edited: 2019-09-05</h4>

</div>


<div class="figure">
<img src="https://drdavis.space/photos/danger_250x250.png" title="Tyler W. Davis" width="150" height="150" />

</div>
<dl>
<dt>Bio</dt>
<dd>Engineer, programmer, educator. I enjoy playing guitar, baking bread, and writing application-based computer programs in Perl, R, C++, Arduino, and Python.
</dd>
<dt>Websites:</dt>
<dd><ul>
<li><a href="https://drdavis.space" class="uri">https://drdavis.space</a></li>
<li><a href="https://bitbucket.org/twdavis/" class="uri">https://bitbucket.org/twdavis/</a></li>
</ul>
</dd>
</dl>
<div id="sample-script" class="section level3">
<h3>Sample script</h3>
<p><a href="scripts/music_randomizer.py">Music Randomizer (.py)</a></p>
<p>My sample script is something I wrote because my Subaru’s shuffle would always play the same few songs. Frustrated, I created my own script that reads all the MP3 files on my USB drive and randomizes them across folders—making certain to keep the number of files and number of folders within the specified limits of the car stereo.</p>
<p>I use this script to shuffle songs for my home stereo, too. Enjoy!</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co">#!/usr/bin/env python3</span>
<span class="co">#</span>
<span class="co"># music_randomizer.py</span>
<span class="co">#</span>
<span class="co"># VERSION 0.3.2</span>
<span class="co">#</span>
<span class="co"># LAST EDIT: 2020-02-04</span>
<span class="co">#</span>
<span class="co"># This script randomizes music files on a USB drive</span>
<span class="co">#</span>
<span class="co">##############################################################################</span>
<span class="co"># REQUIRED MODULES</span>
<span class="co">##############################################################################</span>
<span class="im">import</span> argparse
<span class="im">import</span> errno
<span class="im">import</span> os
<span class="im">import</span> random
<span class="im">import</span> re
<span class="im">import</span> shutil
<span class="im">import</span> sys


<span class="co">##############################################################################</span>
<span class="co"># CLASSES</span>
<span class="co">##############################################################################</span>
<span class="kw">class</span> MusicMan(<span class="bu">object</span>):
    <span class="co">&quot;&quot;&quot;</span>
<span class="co">    Name:     MusicMan</span>
<span class="co">    Features: Class for randomizing and organizing MP3 files for USB playback</span>
<span class="co">    History:  Version 0.3.2</span>
<span class="co">              - added argparse; rm show_help [20.02.02]</span>
<span class="co">              Version 0.3</span>
<span class="co">              - updated rename mp3 files function [17.01.15]</span>
<span class="co">              Version 0.2</span>
<span class="co">              - use Reader class for mp3 title tag in file remaning [17.01.14]</span>
<span class="co">    &quot;&quot;&quot;</span>
    <span class="co"># \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</span>
    <span class="co"># Class Parameters</span>
    <span class="co"># ////////////////////////////////////////////////////////////////////////</span>
    MAX_SONGS <span class="op">=</span> <span class="dv">130560</span>           <span class="co"># Denon: 999; Subaru: 130560</span>
    MAX_SONGS_PER_FOLDER <span class="op">=</span> <span class="dv">20</span>
    MAX_FOLDERS <span class="op">=</span> <span class="dv">512</span>

    <span class="co"># \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</span>
    <span class="co"># Class Initialization</span>
    <span class="co"># ////////////////////////////////////////////////////////////////////////</span>
    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, base_dir):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.__init__</span>
<span class="co">        Inputs:   str, base directory (base_dir)</span>
<span class="co">        Features: Initializes the MusicMan class</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="co"># Intitialize class variables:</span>
        <span class="va">self</span>.file_list <span class="op">=</span> []
        <span class="va">self</span>.file_dict <span class="op">=</span> {}

        <span class="cf">if</span> os.path.isdir(base_dir):
            <span class="va">self</span>.base_dir <span class="op">=</span> base_dir
        <span class="cf">else</span>:
            <span class="va">self</span>.base_dir <span class="op">=</span> <span class="va">None</span>
            <span class="cf">raise</span> <span class="pp">OSError</span>(<span class="st">&quot;Directory &#39;</span><span class="sc">%s</span><span class="st">&#39; does not exist&quot;</span> <span class="op">%</span> (base_dir))

    <span class="co"># \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</span>
    <span class="co"># Class Property Definitions</span>
    <span class="co"># ////////////////////////////////////////////////////////////////////////</span>
    <span class="at">@property</span>
    <span class="kw">def</span> num_files(<span class="va">self</span>):
        <span class="cf">return</span> <span class="bu">len</span>(<span class="va">self</span>.file_list)

    <span class="co"># \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\</span>
    <span class="co"># Class Function Definitions</span>
    <span class="co"># ////////////////////////////////////////////////////////////////////////</span>
    <span class="kw">def</span> assign_new_folders(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.assign_new_folders</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  None.</span>
<span class="co">        Features: Assigns files to a folder path based on the maximum number of</span>
<span class="co">                  files per folder allowed</span>
<span class="co">        &quot;&quot;&quot;</span>
        j <span class="op">=</span> <span class="dv">1</span>  <span class="co"># folder number</span>
        k <span class="op">=</span> <span class="dv">0</span>  <span class="co"># files per folder number; bookkeeping purposes only</span>
        <span class="cf">for</span> my_file <span class="kw">in</span> <span class="bu">sorted</span>(<span class="bu">list</span>(<span class="va">self</span>.file_dict.keys())):
            <span class="co"># Keep track of folders and files:</span>
            k <span class="op">+=</span> <span class="dv">1</span>
            <span class="cf">if</span> k <span class="op">&gt;</span> <span class="va">self</span>.MAX_SONGS_PER_FOLDER:
                <span class="co"># Reset file per folder counter and increment folder</span>
                k <span class="op">=</span> <span class="dv">1</span>
                j <span class="op">+=</span> <span class="dv">1</span>

            <span class="cf">if</span> j <span class="op">&gt;</span> (<span class="va">self</span>.MAX_FOLDERS <span class="op">-</span> <span class="dv">1</span>):
                <span class="co"># </span><span class="al">NOTE</span><span class="co">: the minus one accounts for root folder</span>
                <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;Exceeded the allowable number of folders!&quot;</span>)

            <span class="co"># Extract previous tuple:</span>
            old_path, _ <span class="op">=</span> <span class="va">self</span>.file_dict[my_file]

            <span class="co"># Assign new output path:</span>
            folder_name <span class="op">=</span> <span class="st">&quot;folder-</span><span class="sc">%02d</span><span class="st">&quot;</span> <span class="op">%</span> (j)
            folder_path <span class="op">=</span> os.path.join(<span class="va">self</span>.base_dir, folder_name)
            file_path <span class="op">=</span> os.path.join(folder_path, my_file)

            <span class="co"># Update dictionary tuple with new output path:</span>
            <span class="va">self</span>.file_dict[my_file] <span class="op">=</span> (old_path, file_path)

    <span class="kw">def</span> clean_up(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.clean_up</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  None.</span>
<span class="co">        Features: Recursively removes empty sub-directories from base directory</span>
<span class="co">        Depends:  find_empty_dirs</span>
<span class="co">        &quot;&quot;&quot;</span>
        empty_dirs <span class="op">=</span> <span class="va">self</span>.find_empty_dirs()
        <span class="cf">while</span> <span class="bu">len</span>(empty_dirs) <span class="op">&gt;</span> <span class="dv">0</span>:
            <span class="cf">for</span> my_dir <span class="kw">in</span> empty_dirs:
                os.rmdir(my_dir)
            empty_dirs <span class="op">=</span> <span class="va">self</span>.find_empty_dirs()

    <span class="kw">def</span> find_files(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.find_files</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  None.</span>
<span class="co">        Features: Searches base directory for MP3 files using a recursive</span>
<span class="co">                  directory search</span>

<span class="co">        @TODO:</span>
<span class="co">        * skip hidden files or folders</span>
<span class="co">          http://stackoverflow.com/questions/13454164/</span>
<span class="co">            os-walk-without-hidden-folders</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="co"># Reset file list:</span>
        <span class="va">self</span>.file_list <span class="op">=</span> []
        <span class="cf">for</span> root, subdirs, files <span class="kw">in</span> os.walk(<span class="va">self</span>.base_dir):
            <span class="cf">for</span> my_file <span class="kw">in</span> files:
                <span class="cf">if</span> re.match(<span class="st">&quot;^.*mp3$&quot;</span>, my_file):
                    <span class="va">self</span>.file_list.append(os.path.join(root, my_file))

        <span class="cf">if</span> <span class="va">self</span>.num_files <span class="op">&gt;</span> <span class="va">self</span>.MAX_SONGS:
            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;Exceeded maximum number of songs allowable!&quot;</span>)

    <span class="kw">def</span> find_empty_dirs(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.find_empty_dirs</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  list, paths to empty directories</span>
<span class="co">        Features: Searches base directory for empty sub-directories</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="co"># Reset file list:</span>
        empty_dirs <span class="op">=</span> []
        <span class="cf">for</span> root, subdirs, files <span class="kw">in</span> os.walk(<span class="va">self</span>.base_dir):
            <span class="cf">if</span> <span class="bu">len</span>(subdirs) <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> <span class="bu">len</span>(files) <span class="op">==</span> <span class="dv">0</span>:
                empty_dirs.append(root)
        <span class="cf">return</span> empty_dirs

    <span class="kw">def</span> mkdir_p(<span class="va">self</span>, path):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.mkdir_p</span>
<span class="co">        Inputs:   str, directory path (path)</span>
<span class="co">        Returns:  None.</span>
<span class="co">        Features: Makes directories, including intermediate directories as</span>
<span class="co">                  required (i.e., directory tree)</span>
<span class="co">        Ref:      tzot (2009) &quot;mkdir -p functionality in python,&quot;</span>
<span class="co">                  StackOverflow, Online:</span>
<span class="co">                  http://stackoverflow.com/questions/600268/</span>
<span class="co">                    mkdir-p-functionality-in-python</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="cf">try</span>:
            os.makedirs(path)
        <span class="cf">except</span> <span class="pp">OSError</span> <span class="im">as</span> exc:
            <span class="cf">if</span> exc.errno <span class="op">==</span> errno.EEXIST <span class="kw">and</span> os.path.isdir(path):
                <span class="cf">pass</span>
            <span class="cf">else</span>:
                <span class="cf">raise</span>

    <span class="kw">def</span> move_files(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.move_files</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  None.</span>
<span class="co">        Features: Moves files from old to new path</span>
<span class="co">        Depends:  mkdir_p</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="cf">for</span> my_file <span class="kw">in</span> <span class="va">self</span>.file_dict:
            old_path, new_path <span class="op">=</span> <span class="va">self</span>.file_dict[my_file]
            new_dir <span class="op">=</span> os.path.dirname(new_path)
            <span class="cf">if</span> os.path.isdir(new_dir):
                <span class="co"># Move file</span>
                shutil.move(old_path, new_path)
            <span class="cf">else</span>:
                <span class="co"># Create directory:</span>
                <span class="cf">try</span>:
                    <span class="va">self</span>.mkdir_p(new_dir)
                <span class="cf">except</span>:
                    <span class="cf">raise</span>
                <span class="cf">else</span>:
                    <span class="co"># Move file</span>
                    <span class="cf">try</span>:
                        shutil.move(old_path, new_path)
                    <span class="cf">except</span>:
                        <span class="bu">print</span>(<span class="st">&quot;</span><span class="sc">%s</span><span class="st"> ... failed&quot;</span> <span class="op">%</span> (old_path))

    <span class="kw">def</span> rename_mp3(<span class="va">self</span>, rand_id, file_name):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.rename_mp3</span>
<span class="co">        Inputs:   - int, random number (rand_id)</span>
<span class="co">                  - str, name of MP3 file (file_name)</span>
<span class="co">        Outputs:  str, new MP3 file name (new_name)</span>
<span class="co">        Features: Renames the new mp3 name, preserving the track title and</span>
<span class="co">                  pre-pending the random ID</span>
<span class="co">        &quot;&quot;&quot;</span>
        prog <span class="op">=</span> re.<span class="bu">compile</span>(<span class="st">&quot;(^\d+([\.-]\d+)?\.?)\s.*\.mp3$&quot;</span>)
        result <span class="op">=</span> prog.match(file_name)
        <span class="cf">if</span> result <span class="kw">is</span> <span class="kw">not</span> <span class="va">None</span>:
            repl_str <span class="op">=</span> <span class="st">&quot;</span><span class="sc">%04d</span><span class="st">.&quot;</span> <span class="op">%</span> (rand_id)
            new_name <span class="op">=</span> re.sub(<span class="st">&quot;(^\d+([\.-]\d+)?\.)&quot;</span>, repl_str, file_name)
        <span class="cf">else</span>:
            <span class="bu">print</span>(<span class="st">&quot;</span><span class="sc">%s</span><span class="st"> ... FAILED&quot;</span> <span class="op">%</span> (file_name))
            new_name <span class="op">=</span> file_name

        <span class="cf">return</span> new_name

    <span class="kw">def</span> run(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.run</span>
<span class="co">        Inputs:   None</span>
<span class="co">        Outputs:  None</span>
<span class="co">        Features: Convenience function for finding, renaming and moving MP3</span>
<span class="co">                  files and cleaning up empty directories</span>
<span class="co">        Depends:  - assign_new_folders (raises exceptions)</span>
<span class="co">                  - clean_up</span>
<span class="co">                  - find_files (raises exceptions)</span>
<span class="co">                  - move_files (raises exceptions)</span>
<span class="co">                  - rename_files</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="va">self</span>.find_files()              <span class="co"># search base directory for MP3 files</span>
        <span class="cf">if</span> <span class="va">self</span>.num_files <span class="op">&gt;</span> <span class="dv">0</span>:
            <span class="va">self</span>.set_new_names()       <span class="co"># rename mp3 files</span>
            <span class="va">self</span>.assign_new_folders()  <span class="co"># assign new files to a folder path</span>
            <span class="va">self</span>.move_files()          <span class="co"># move files to new folder</span>
            <span class="va">self</span>.clean_up()            <span class="co"># remove lingering empty directories</span>
        <span class="cf">else</span>:
            <span class="bu">print</span>(<span class="st">&quot;Found no music files! Check your path.&quot;</span>)

    <span class="kw">def</span> set_new_names(<span class="va">self</span>):
        <span class="co">&quot;&quot;&quot;</span>
<span class="co">        Name:     MusicMan.set_new_names</span>
<span class="co">        Inputs:   None.</span>
<span class="co">        Outputs:  None.</span>
<span class="co">        Features: Initializes file dictionary for new file names and old file</span>
<span class="co">                  paths</span>
<span class="co">        Depends:  rename_mp3</span>
<span class="co">        &quot;&quot;&quot;</span>
        <span class="co"># Create numbers for randomizing files</span>
        random_ids <span class="op">=</span> [x <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.num_files)]
        random.shuffle(random_ids)

        <span class="co"># Reset file dictionary:</span>
        <span class="va">self</span>.file_dict <span class="op">=</span> {}
        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="va">self</span>.num_files):
            fid <span class="op">=</span> random_ids[i]
            file_path <span class="op">=</span> <span class="va">self</span>.file_list[i]
            file_name <span class="op">=</span> os.path.basename(file_path)
            new_file <span class="op">=</span> <span class="va">self</span>.rename_mp3(fid, file_name)
            <span class="va">self</span>.file_dict[new_file] <span class="op">=</span> (file_path, <span class="st">&quot;&quot;</span>)

<span class="co">##############################################################################</span>
<span class="co"># MAIN</span>
<span class="co">##############################################################################</span>
<span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:
    <span class="co"># Check command-line arguments</span>
    p <span class="op">=</span> argparse.ArgumentParser(
        description<span class="op">=</span><span class="st">&quot;Randomizes MP3 files within a folder or USB drive.&quot;</span>)
    p.add_argument(<span class="st">&quot;-p&quot;</span>, <span class="st">&quot;--path&quot;</span>, default<span class="op">=</span><span class="st">&quot;.&quot;</span>,
                   <span class="bu">help</span><span class="op">=</span><span class="st">&quot;Path to your music folders&quot;</span>)
    args <span class="op">=</span> p.parse_args()
    my_music <span class="op">=</span> MusicMan(args.path)
    my_music.run()</code></pre></div>
</div>

<footer class="myfoot">
    <div class="foot-text">
        <p>Data Science at William &amp; Mary (2020)</p>
    </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
