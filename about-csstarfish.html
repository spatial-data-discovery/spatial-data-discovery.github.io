<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Caroline Freshcorn" />


<title>About the Coder</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Spatial Data Discovery</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Learning
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="learning-git.html">Git</a>
    </li>
    <li>
      <a href="learning-hdf.html">HDF</a>
    </li>
    <li>
      <a href="learning-netcdf.html">NetCDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="resources-code.html">Code</a>
    </li>
    <li>
      <a href="resources-data.html">Data</a>
    </li>
    <li>
      <a href="resources-links.html">Links</a>
    </li>
    <li>
      <a href="resources-methods.html">Methods</a>
    </li>
    <li>
      <a href="resources-software.html">Software</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Spatial Discovery
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Example</li>
    <li>
      <a href="project-dtwoods.html">Breathing of the Biosphere</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="current-projects.html">Current Projects</a>
    </li>
    <li>
      <a href="projects.html">All Projects</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about-dtwoods.html">About the Professor</a>
    </li>
    <li>
      <a href="schedule.html">Schedule</a>
    </li>
    <li>
      <a href="syllabus.html">Syllabus</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="current-development-team.html">Current Developers</a>
    </li>
    <li>
      <a href="about.html">All Developers</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/spatial-data-discovery/spatial-data-discovery.github.io">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">About the Coder</h1>
<h4 class="author">Caroline Freshcorn</h4>
<h4 class="date">Edited: 2019-09-13</h4>

</div>


<p><img src="https://images.squarespace-cdn.com/content/v1/5647d67ce4b05d303b88deb0/1474003748170-RV0GR7VOHOR0IYFS2OHU/ke17ZwdGBToddI8pDm48kPyxK6AB3zgGizbLyl3cQLF7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0hHMyhIh2kKzuOL3ydJCryA1F0gmNLmEt4Nikyd91URavr8Aoi-yShiL3L-0iJr14g/image-asset.jpeg?format=2500w" title="Starfish" alt="Starfish" /> <em>To fit with the starfish theme from my username (CSStarfish), here’s a picture of a starfish relaxing on the beach :)</em></p>
<dl>
<dt><strong>Bio:</strong></dt>
<dd>Hi, I’m Caroline and I’m double-majoring in Business Analytics and Data Science. I’m <strong><em>excited</em></strong> to learn more about spatial data over the course of the semester!
</dd>
</dl>
<p><strong>Favorite Foods:</strong></p>
<ol style="list-style-type: decimal">
<li>Oysters</li>
<li>Fried shrimp</li>
<li>Macaroni &amp; Cheese</li>
</ol>
<div id="sample-script" class="section level3">
<h3>Sample Script</h3>
<p><a href="scripts/emotion_detection.py">Emotion Detection (.py)</a></p>
<p>My sample script is a file I wrote for a final project in my Applied Machine Learning class. It accepts video streams from either a webcam or pre-recorded video files, and then utilizes a convolutional neural network to classify the person in the video’s facial expression as one of the seven basic emotions: happy, sad, angry, fearful, disgusted, surprised, and neutral. I thought that this could be useful for those who are visually-impaired, who may have difficulty reading facial expressions while they are speaking with someone. This file provides a real-time indicator of the emotional state of the person they are communicating with through audio and visual outputs of the person’s emotional state.</p>
<p>See also my script called <a href="scripts/make_art.py">Make Art (.py)</a>.</p>
<audio controls>
<source src="audio/make_art.mp3">
</audio>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#The corresponding video files used towards the end of the file are saved to my public Machine Learning repository</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="im">import</span> cv2</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="im">import</span> tensorflow <span class="im">as</span> tf</a>
<a class="sourceLine" id="cb1-4" title="4"><span class="im">from</span> tensorflow.keras.models <span class="im">import</span> Sequential</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="im">from</span> tensorflow.keras.optimizers <span class="im">import</span> RMSprop</a>
<a class="sourceLine" id="cb1-6" title="6"><span class="im">from</span> tensorflow.keras.layers <span class="im">import</span> Dense, Conv2D, Flatten, Dropout, MaxPooling2D</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="im">from</span> tensorflow.keras.preprocessing.image <span class="im">import</span> ImageDataGenerator</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="im">from</span> tensorflow.keras.preprocessing <span class="im">import</span> image</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb1-10" title="10"><span class="im">import</span> os</a>
<a class="sourceLine" id="cb1-11" title="11"><span class="im">from</span> gtts <span class="im">import</span> gTTS</a>
<a class="sourceLine" id="cb1-12" title="12"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb1-13" title="13"></a>
<a class="sourceLine" id="cb1-14" title="14"></a>
<a class="sourceLine" id="cb1-15" title="15">training_path <span class="op">=</span> <span class="st">&#39;Training Data (Final Project)&#39;</span></a>
<a class="sourceLine" id="cb1-16" title="16">train_happy_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Happy&#39;</span>)  <span class="co"># directory with our training happy pictures</span></a>
<a class="sourceLine" id="cb1-17" title="17">train_sad_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Sad&#39;</span>)  <span class="co"># directory with our training sad pictures</span></a>
<a class="sourceLine" id="cb1-18" title="18">train_anger_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Anger&#39;</span>)  <span class="co"># directory with our training angry pictures</span></a>
<a class="sourceLine" id="cb1-19" title="19">train_fear_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Fear&#39;</span>)  <span class="co"># directory with our training fear pictures</span></a>
<a class="sourceLine" id="cb1-20" title="20">train_surprise_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Surprise&#39;</span>)  <span class="co"># directory with our training surprise pictures</span></a>
<a class="sourceLine" id="cb1-21" title="21">train_disgust_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Disgust&#39;</span>)  <span class="co"># directory with our training disgust pictures</span></a>
<a class="sourceLine" id="cb1-22" title="22">train_neutral_dir <span class="op">=</span> os.path.join(training_path, <span class="st">&#39;Neutral&#39;</span>)  <span class="co"># directory with our training neutral pictures</span></a>
<a class="sourceLine" id="cb1-23" title="23">training_datagen <span class="op">=</span> ImageDataGenerator(rescale<span class="op">=</span><span class="fl">1.</span><span class="op">/</span><span class="dv">255</span>, horizontal_flip<span class="op">=</span><span class="va">True</span>)</a>
<a class="sourceLine" id="cb1-24" title="24">training_gen <span class="op">=</span> training_datagen.flow_from_directory(training_path, target_size<span class="op">=</span>(<span class="dv">48</span>,<span class="dv">48</span>), batch_size<span class="op">=</span><span class="dv">64</span>, color_mode<span class="op">=</span><span class="st">&quot;grayscale&quot;</span>, class_mode<span class="op">=</span><span class="st">&#39;categorical&#39;</span>)</a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27">testing_path <span class="op">=</span> <span class="st">&#39;Testing Data (Final Project)&#39;</span></a>
<a class="sourceLine" id="cb1-28" title="28">test_happy_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Happy&#39;</span>)  <span class="co"># directory with our testing happy pictures</span></a>
<a class="sourceLine" id="cb1-29" title="29">test_sad_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Sad&#39;</span>)  <span class="co"># directory with our testing sad pictures</span></a>
<a class="sourceLine" id="cb1-30" title="30">test_anger_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Anger&#39;</span>)  <span class="co"># directory with our testing angry pictures</span></a>
<a class="sourceLine" id="cb1-31" title="31">test_fear_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Fear&#39;</span>)  <span class="co"># directory with our testing fear pictures</span></a>
<a class="sourceLine" id="cb1-32" title="32">test_surprise_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Surprise&#39;</span>)  <span class="co"># directory with our testing surprise pictures</span></a>
<a class="sourceLine" id="cb1-33" title="33">test_disgust_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Disgust&#39;</span>)  <span class="co"># directory with our testing disgust pictures</span></a>
<a class="sourceLine" id="cb1-34" title="34">test_neutral_dir <span class="op">=</span> os.path.join(testing_path, <span class="st">&#39;Neutral&#39;</span>)  <span class="co"># directory with our testing neutral pictures</span></a>
<a class="sourceLine" id="cb1-35" title="35">testing_datagen <span class="op">=</span> ImageDataGenerator(rescale<span class="op">=</span><span class="fl">1.</span><span class="op">/</span><span class="dv">255</span>, horizontal_flip<span class="op">=</span><span class="va">True</span>)</a>
<a class="sourceLine" id="cb1-36" title="36">testing_gen <span class="op">=</span> testing_datagen.flow_from_directory(testing_path, target_size<span class="op">=</span>(<span class="dv">48</span>,<span class="dv">48</span>), batch_size<span class="op">=</span><span class="dv">64</span>, color_mode<span class="op">=</span><span class="st">&quot;grayscale&quot;</span>, class_mode<span class="op">=</span><span class="st">&#39;categorical&#39;</span>)</a>
<a class="sourceLine" id="cb1-37" title="37"></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="co">#Count how many images there are in each directory</span></a>
<a class="sourceLine" id="cb1-39" title="39">num_happy_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_happy_dir))</a>
<a class="sourceLine" id="cb1-40" title="40"><span class="co">#print(num_happy_tr)</span></a>
<a class="sourceLine" id="cb1-41" title="41">num_sad_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_sad_dir))</a>
<a class="sourceLine" id="cb1-42" title="42"><span class="co">#print(num_sad_tr)</span></a>
<a class="sourceLine" id="cb1-43" title="43">num_anger_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_anger_dir))</a>
<a class="sourceLine" id="cb1-44" title="44"><span class="co">#print(num_anger_tr)</span></a>
<a class="sourceLine" id="cb1-45" title="45">num_fear_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_fear_dir))</a>
<a class="sourceLine" id="cb1-46" title="46"><span class="co">#print(num_fear_tr)</span></a>
<a class="sourceLine" id="cb1-47" title="47">num_surprise_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_surprise_dir))</a>
<a class="sourceLine" id="cb1-48" title="48"><span class="co">#print(num_surprise_tr)</span></a>
<a class="sourceLine" id="cb1-49" title="49">num_disgust_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_disgust_dir))</a>
<a class="sourceLine" id="cb1-50" title="50"><span class="co">#print(num_disgust_tr)</span></a>
<a class="sourceLine" id="cb1-51" title="51">num_neutral_tr <span class="op">=</span> <span class="bu">len</span>(os.listdir(train_neutral_dir))</a>
<a class="sourceLine" id="cb1-52" title="52"><span class="co">#print(num_neutral_tr)</span></a>
<a class="sourceLine" id="cb1-53" title="53"></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="cf">for</span> emotion <span class="kw">in</span> os.listdir(training_path <span class="op">+</span> <span class="st">&#39;/&#39;</span>):</a>
<a class="sourceLine" id="cb1-55" title="55">    <span class="bu">print</span>(<span class="bu">str</span>(<span class="bu">len</span>(os.listdir(training_path <span class="op">+</span> <span class="st">&#39;/&#39;</span> <span class="op">+</span> emotion))) <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> emotion <span class="op">+</span> <span class="st">&#39; Faces in the training dataset.&#39;</span>)</a>
<a class="sourceLine" id="cb1-56" title="56"></a>
<a class="sourceLine" id="cb1-57" title="57"></a>
<a class="sourceLine" id="cb1-58" title="58"></a>
<a class="sourceLine" id="cb1-59" title="59">num_happy_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_happy_dir))</a>
<a class="sourceLine" id="cb1-60" title="60"><span class="co">#print(num_happy_tst)</span></a>
<a class="sourceLine" id="cb1-61" title="61">num_sad_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_sad_dir))</a>
<a class="sourceLine" id="cb1-62" title="62"><span class="co">#print(num_sad_tst)</span></a>
<a class="sourceLine" id="cb1-63" title="63">num_anger_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_anger_dir))</a>
<a class="sourceLine" id="cb1-64" title="64"><span class="co">#print(num_anger_tst)</span></a>
<a class="sourceLine" id="cb1-65" title="65">num_fear_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_fear_dir))</a>
<a class="sourceLine" id="cb1-66" title="66"><span class="co">#print(num_fear_tst)</span></a>
<a class="sourceLine" id="cb1-67" title="67">num_surprise_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_surprise_dir))</a>
<a class="sourceLine" id="cb1-68" title="68"><span class="co">#print(num_surprise_tst)</span></a>
<a class="sourceLine" id="cb1-69" title="69">num_disgust_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_disgust_dir))</a>
<a class="sourceLine" id="cb1-70" title="70"><span class="co">#print(num_disgust_tst)</span></a>
<a class="sourceLine" id="cb1-71" title="71">num_neutral_tst <span class="op">=</span> <span class="bu">len</span>(os.listdir(test_neutral_dir))</a>
<a class="sourceLine" id="cb1-72" title="72"><span class="co">#print(num_neutral_tst)</span></a>
<a class="sourceLine" id="cb1-73" title="73"></a>
<a class="sourceLine" id="cb1-74" title="74"><span class="cf">for</span> emotion <span class="kw">in</span> os.listdir(testing_path <span class="op">+</span> <span class="st">&#39;/&#39;</span>):</a>
<a class="sourceLine" id="cb1-75" title="75">    <span class="bu">print</span>(<span class="bu">str</span>(<span class="bu">len</span>(os.listdir(testing_path <span class="op">+</span> <span class="st">&#39;/&#39;</span> <span class="op">+</span> emotion))) <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> emotion <span class="op">+</span> <span class="st">&#39; Faces in the testing dataset.&#39;</span>)</a>
<a class="sourceLine" id="cb1-76" title="76"></a>
<a class="sourceLine" id="cb1-77" title="77"></a>
<a class="sourceLine" id="cb1-78" title="78"></a>
<a class="sourceLine" id="cb1-79" title="79">total_train <span class="op">=</span> num_happy_tr <span class="op">+</span> num_sad_tr <span class="op">+</span> num_anger_tr <span class="op">+</span> num_fear_tr <span class="op">+</span> num_surprise_tr <span class="op">+</span> num_disgust_tr <span class="op">+</span> num_neutral_tr</a>
<a class="sourceLine" id="cb1-80" title="80"><span class="bu">print</span>(<span class="bu">str</span>(total_train) <span class="op">+</span> <span class="st">&#39; faces in the training dataset.&#39;</span>)</a>
<a class="sourceLine" id="cb1-81" title="81">total_test <span class="op">=</span> num_happy_tst <span class="op">+</span> num_sad_tst <span class="op">+</span> num_anger_tst <span class="op">+</span> num_fear_tst <span class="op">+</span> num_surprise_tst <span class="op">+</span> num_disgust_tst <span class="op">+</span> num_neutral_tst</a>
<a class="sourceLine" id="cb1-82" title="82"><span class="bu">print</span>(<span class="bu">str</span>(total_test) <span class="op">+</span> <span class="st">&#39; faces in the testing dataset.&#39;</span>)</a>
<a class="sourceLine" id="cb1-83" title="83"></a>
<a class="sourceLine" id="cb1-84" title="84"><span class="co">#Create the model</span></a>
<a class="sourceLine" id="cb1-85" title="85">model <span class="op">=</span> Sequential([</a>
<a class="sourceLine" id="cb1-86" title="86">    Conv2D(<span class="dv">64</span>, (<span class="dv">3</span>,<span class="dv">3</span>), activation<span class="op">=</span><span class="st">&#39;relu&#39;</span>, padding<span class="op">=</span><span class="st">&#39;same&#39;</span>, input_shape<span class="op">=</span>(<span class="dv">48</span>,<span class="dv">48</span>,<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb1-87" title="87">    MaxPooling2D((<span class="dv">2</span>,<span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb1-88" title="88">    Conv2D(<span class="dv">128</span>, (<span class="dv">3</span>,<span class="dv">3</span>), activation<span class="op">=</span><span class="st">&#39;relu&#39;</span>, padding<span class="op">=</span><span class="st">&#39;same&#39;</span>),</a>
<a class="sourceLine" id="cb1-89" title="89">    MaxPooling2D((<span class="dv">2</span>,<span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb1-90" title="90">    Conv2D(<span class="dv">256</span>, (<span class="dv">3</span>,<span class="dv">3</span>), activation<span class="op">=</span><span class="st">&#39;relu&#39;</span>, padding<span class="op">=</span><span class="st">&#39;same&#39;</span>),</a>
<a class="sourceLine" id="cb1-91" title="91">    MaxPooling2D((<span class="dv">2</span>,<span class="dv">2</span>)),</a>
<a class="sourceLine" id="cb1-92" title="92">    Flatten(),</a>
<a class="sourceLine" id="cb1-93" title="93">    Dense(<span class="dv">256</span>, activation<span class="op">=</span><span class="st">&#39;relu&#39;</span>),</a>
<a class="sourceLine" id="cb1-94" title="94">    Dense(<span class="dv">64</span>, activation<span class="op">=</span><span class="st">&#39;relu&#39;</span>),</a>
<a class="sourceLine" id="cb1-95" title="95">    Dense(<span class="dv">7</span>, activation<span class="op">=</span><span class="st">&#39;softmax&#39;</span>)</a>
<a class="sourceLine" id="cb1-96" title="96">])</a>
<a class="sourceLine" id="cb1-97" title="97"></a>
<a class="sourceLine" id="cb1-98" title="98">model.<span class="bu">compile</span>(loss<span class="op">=</span><span class="st">&#39;categorical_crossentropy&#39;</span>, optimizer<span class="op">=</span>RMSprop(lr<span class="op">=</span><span class="fl">0.001</span>), metrics<span class="op">=</span>[<span class="st">&#39;accuracy&#39;</span>])</a>
<a class="sourceLine" id="cb1-99" title="99">history <span class="op">=</span> model.fit(training_gen, steps_per_epoch<span class="op">=</span>(total_train<span class="op">//</span><span class="dv">64</span>), epochs<span class="op">=</span><span class="dv">30</span>,</a>
<a class="sourceLine" id="cb1-100" title="100">                    validation_data<span class="op">=</span>testing_gen, validation_steps<span class="op">=</span>(total_test<span class="op">//</span><span class="dv">64</span>))</a>
<a class="sourceLine" id="cb1-101" title="101">model.summary()</a>
<a class="sourceLine" id="cb1-102" title="102"></a>
<a class="sourceLine" id="cb1-103" title="103">acc <span class="op">=</span> history.history[<span class="st">&#39;accuracy&#39;</span>]</a>
<a class="sourceLine" id="cb1-104" title="104">train_acc <span class="op">=</span> history.history[<span class="st">&#39;val_accuracy&#39;</span>]</a>
<a class="sourceLine" id="cb1-105" title="105"></a>
<a class="sourceLine" id="cb1-106" title="106">loss <span class="op">=</span> history.history[<span class="st">&#39;loss&#39;</span>]</a>
<a class="sourceLine" id="cb1-107" title="107">train_loss <span class="op">=</span> history.history[<span class="st">&#39;val_loss&#39;</span>]</a>
<a class="sourceLine" id="cb1-108" title="108"></a>
<a class="sourceLine" id="cb1-109" title="109">epochs_range <span class="op">=</span> <span class="bu">range</span>(<span class="dv">30</span>)</a>
<a class="sourceLine" id="cb1-110" title="110"></a>
<a class="sourceLine" id="cb1-111" title="111">plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))</a>
<a class="sourceLine" id="cb1-112" title="112">plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-113" title="113">plt.plot(epochs_range, acc, label<span class="op">=</span><span class="st">&#39;Training Accuracy&#39;</span>)</a>
<a class="sourceLine" id="cb1-114" title="114">plt.plot(epochs_range, train_acc, label<span class="op">=</span><span class="st">&#39;Validation Accuracy&#39;</span>)</a>
<a class="sourceLine" id="cb1-115" title="115">plt.legend(loc<span class="op">=</span><span class="st">&#39;lower right&#39;</span>)</a>
<a class="sourceLine" id="cb1-116" title="116">plt.title(<span class="st">&#39;Training and Validation Accuracy&#39;</span>)</a>
<a class="sourceLine" id="cb1-117" title="117"></a>
<a class="sourceLine" id="cb1-118" title="118">plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-119" title="119">plt.plot(epochs_range, loss, label<span class="op">=</span><span class="st">&#39;Training Loss&#39;</span>)</a>
<a class="sourceLine" id="cb1-120" title="120">plt.plot(epochs_range, train_loss, label<span class="op">=</span><span class="st">&#39;Validation Loss&#39;</span>)</a>
<a class="sourceLine" id="cb1-121" title="121">plt.legend(loc<span class="op">=</span><span class="st">&#39;upper right&#39;</span>)</a>
<a class="sourceLine" id="cb1-122" title="122">plt.title(<span class="st">&#39;Training and Validation Loss&#39;</span>)</a>
<a class="sourceLine" id="cb1-123" title="123">plt.show()</a>
<a class="sourceLine" id="cb1-124" title="124"></a>
<a class="sourceLine" id="cb1-125" title="125"><span class="co">#Read video camera stream</span></a>
<a class="sourceLine" id="cb1-126" title="126">cv2.ocl.setUseOpenCL(<span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-127" title="127">emotions <span class="op">=</span> [<span class="st">&quot;Happy&quot;</span>, <span class="st">&quot;Sad&quot;</span>, <span class="st">&quot;Angry&quot;</span>, <span class="st">&quot;Scared&quot;</span>, <span class="st">&quot;Surprised&quot;</span>, <span class="st">&quot;Disgusted&quot;</span>, <span class="st">&quot;Neutral&quot;</span>]</a>
<a class="sourceLine" id="cb1-128" title="128">cap <span class="op">=</span> cv2.VideoCapture(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb1-129" title="129"></a>
<a class="sourceLine" id="cb1-130" title="130"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-131" title="131">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-132" title="132">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-133" title="133">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-134" title="134">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-135" title="135">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-136" title="136">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-137" title="137"></a>
<a class="sourceLine" id="cb1-138" title="138">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-139" title="139">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-140" title="140"></a>
<a class="sourceLine" id="cb1-141" title="141">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-142" title="142">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-143" title="143">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-144" title="144"></a>
<a class="sourceLine" id="cb1-145" title="145">        cv2.putText(frame, emotions[index], (x, y), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">4</span>, (<span class="dv">0</span>, <span class="dv">128</span>, <span class="dv">128</span>), <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-146" title="146">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">0</span>, <span class="dv">128</span>, <span class="dv">128</span>), <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-147" title="147"></a>
<a class="sourceLine" id="cb1-148" title="148">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>,<span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-149" title="149">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-150" title="150">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-151" title="151">        cap.release()</a>
<a class="sourceLine" id="cb1-152" title="152">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-153" title="153"></a>
<a class="sourceLine" id="cb1-154" title="154">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-155" title="155">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-156" title="156">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-157" title="157">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-158" title="158">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-159" title="159">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-160" title="160">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-161" title="161">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-162" title="162">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-163" title="163">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-164" title="164">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-165" title="165">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-166" title="166">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-167" title="167">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-168" title="168">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-169" title="169">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-170" title="170">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-171" title="171">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-172" title="172">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-173" title="173">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-174" title="174">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-175" title="175">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-176" title="176">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-177" title="177">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-178" title="178">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-179" title="179">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-180" title="180">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-181" title="181">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-182" title="182">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-183" title="183">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-184" title="184">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-185" title="185">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-186" title="186">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-187" title="187">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-188" title="188">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-189" title="189">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-190" title="190">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-191" title="191">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-192" title="192">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-193" title="193">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-194" title="194">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-195" title="195">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-196" title="196">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-197" title="197">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-198" title="198">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-199" title="199">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-200" title="200">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-201" title="201">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-202" title="202">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-203" title="203"></a>
<a class="sourceLine" id="cb1-204" title="204">cap <span class="op">=</span> cv2.VideoCapture(<span class="st">&#39;happy.mp4&#39;</span>)</a>
<a class="sourceLine" id="cb1-205" title="205"></a>
<a class="sourceLine" id="cb1-206" title="206"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-207" title="207">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-208" title="208">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-209" title="209">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-210" title="210">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-211" title="211">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-212" title="212">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-213" title="213"></a>
<a class="sourceLine" id="cb1-214" title="214">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-215" title="215">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-216" title="216"></a>
<a class="sourceLine" id="cb1-217" title="217">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-218" title="218">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-219" title="219">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-220" title="220"></a>
<a class="sourceLine" id="cb1-221" title="221">        cv2.putText(frame, emotions[index], (x, y<span class="dv">-3</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">8</span>, (<span class="dv">0</span>, <span class="dv">200</span>, <span class="dv">255</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-222" title="222">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">0</span>, <span class="dv">200</span>, <span class="dv">255</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-223" title="223"></a>
<a class="sourceLine" id="cb1-224" title="224">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>,<span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-225" title="225"></a>
<a class="sourceLine" id="cb1-226" title="226">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-227" title="227">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-228" title="228">        cap.release()</a>
<a class="sourceLine" id="cb1-229" title="229">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-230" title="230">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-231" title="231">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-232" title="232">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-233" title="233">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-234" title="234">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-235" title="235">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-236" title="236">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-237" title="237">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-238" title="238">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-239" title="239">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-240" title="240">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-241" title="241">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-242" title="242">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-243" title="243">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-244" title="244">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-245" title="245">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-246" title="246">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-247" title="247">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-248" title="248">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-249" title="249">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-250" title="250">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-251" title="251">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-252" title="252">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-253" title="253">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-254" title="254">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-255" title="255">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-256" title="256">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-257" title="257">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-258" title="258">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-259" title="259">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-260" title="260">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-261" title="261">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-262" title="262">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-263" title="263">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-264" title="264">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-265" title="265">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-266" title="266">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-267" title="267">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-268" title="268">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-269" title="269">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-270" title="270">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-271" title="271">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-272" title="272">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-273" title="273">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-274" title="274">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-275" title="275">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-276" title="276">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-277" title="277">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-278" title="278">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-279" title="279"></a>
<a class="sourceLine" id="cb1-280" title="280">cap <span class="op">=</span> cv2.VideoCapture(<span class="st">&#39;angry.mp4&#39;</span>)</a>
<a class="sourceLine" id="cb1-281" title="281"></a>
<a class="sourceLine" id="cb1-282" title="282"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-283" title="283">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-284" title="284">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-285" title="285">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-286" title="286">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-287" title="287">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-288" title="288">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-289" title="289"></a>
<a class="sourceLine" id="cb1-290" title="290">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-291" title="291">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-292" title="292"></a>
<a class="sourceLine" id="cb1-293" title="293">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-294" title="294">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-295" title="295">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-296" title="296"></a>
<a class="sourceLine" id="cb1-297" title="297">        cv2.putText(frame, emotions[index], (x, y<span class="dv">-3</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">8</span>, (<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">255</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-298" title="298">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">255</span>), <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-299" title="299"></a>
<a class="sourceLine" id="cb1-300" title="300">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>, <span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-301" title="301"></a>
<a class="sourceLine" id="cb1-302" title="302">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-303" title="303">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-304" title="304">        cap.release()</a>
<a class="sourceLine" id="cb1-305" title="305">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-306" title="306">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-307" title="307">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-308" title="308">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-309" title="309">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-310" title="310">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-311" title="311">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-312" title="312">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-313" title="313">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-314" title="314">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-315" title="315">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-316" title="316">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-317" title="317">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-318" title="318">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-319" title="319">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-320" title="320">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-321" title="321">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-322" title="322">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-323" title="323">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-324" title="324">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-325" title="325">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-326" title="326">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-327" title="327">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-328" title="328">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-329" title="329">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-330" title="330">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-331" title="331">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-332" title="332">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-333" title="333">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-334" title="334">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-335" title="335">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-336" title="336">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-337" title="337">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-338" title="338">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-339" title="339">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-340" title="340">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-341" title="341">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-342" title="342">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-343" title="343">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-344" title="344">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-345" title="345">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-346" title="346">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-347" title="347">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-348" title="348">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-349" title="349">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-350" title="350">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-351" title="351">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-352" title="352">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-353" title="353">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-354" title="354">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-355" title="355"></a>
<a class="sourceLine" id="cb1-356" title="356">cap <span class="op">=</span> cv2.VideoCapture(<span class="st">&#39;sad.mp4&#39;</span>)</a>
<a class="sourceLine" id="cb1-357" title="357"></a>
<a class="sourceLine" id="cb1-358" title="358"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-359" title="359">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-360" title="360">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-361" title="361">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-362" title="362">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-363" title="363">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-364" title="364">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-365" title="365"></a>
<a class="sourceLine" id="cb1-366" title="366">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-367" title="367">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-368" title="368"></a>
<a class="sourceLine" id="cb1-369" title="369">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-370" title="370">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-371" title="371">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-372" title="372"></a>
<a class="sourceLine" id="cb1-373" title="373">        cv2.putText(frame, emotions[index], (x, y<span class="dv">-3</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">8</span>, (<span class="dv">200</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-374" title="374">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">200</span>, <span class="dv">0</span>, <span class="dv">0</span>), <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-375" title="375"></a>
<a class="sourceLine" id="cb1-376" title="376">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>, <span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-377" title="377"></a>
<a class="sourceLine" id="cb1-378" title="378">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-379" title="379">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-380" title="380">        cap.release()</a>
<a class="sourceLine" id="cb1-381" title="381">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-382" title="382">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-383" title="383">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-384" title="384">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-385" title="385">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-386" title="386">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-387" title="387">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-388" title="388">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-389" title="389">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-390" title="390">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-391" title="391">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-392" title="392">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-393" title="393">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-394" title="394">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-395" title="395">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-396" title="396">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-397" title="397">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-398" title="398">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-399" title="399">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-400" title="400">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-401" title="401">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-402" title="402">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-403" title="403">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-404" title="404">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-405" title="405">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-406" title="406">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-407" title="407">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-408" title="408">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-409" title="409">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-410" title="410">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-411" title="411">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-412" title="412">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-413" title="413">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-414" title="414">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-415" title="415">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-416" title="416">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-417" title="417">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-418" title="418">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-419" title="419">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-420" title="420">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-421" title="421">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-422" title="422">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-423" title="423">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-424" title="424">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-425" title="425">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-426" title="426">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-427" title="427">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-428" title="428">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-429" title="429">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-430" title="430">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-431" title="431"></a>
<a class="sourceLine" id="cb1-432" title="432"></a>
<a class="sourceLine" id="cb1-433" title="433">cap <span class="op">=</span> cv2.VideoCapture(<span class="st">&#39;neutral.mp4&#39;</span>)</a>
<a class="sourceLine" id="cb1-434" title="434"></a>
<a class="sourceLine" id="cb1-435" title="435"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-436" title="436">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-437" title="437">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-438" title="438">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-439" title="439">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-440" title="440">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-441" title="441">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-442" title="442"></a>
<a class="sourceLine" id="cb1-443" title="443">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-444" title="444">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-445" title="445"></a>
<a class="sourceLine" id="cb1-446" title="446">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-447" title="447">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-448" title="448">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-449" title="449"></a>
<a class="sourceLine" id="cb1-450" title="450">        cv2.putText(frame, emotions[index], (x, y<span class="dv">-3</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">8</span>, (<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">0</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-451" title="451">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">100</span>, <span class="dv">100</span>, <span class="dv">0</span>), <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-452" title="452"></a>
<a class="sourceLine" id="cb1-453" title="453">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>, <span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-454" title="454"></a>
<a class="sourceLine" id="cb1-455" title="455">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-456" title="456">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-457" title="457">        cap.release()</a>
<a class="sourceLine" id="cb1-458" title="458">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-459" title="459">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-460" title="460">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-461" title="461">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-462" title="462">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-463" title="463">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-464" title="464">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-465" title="465">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-466" title="466">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-467" title="467">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-468" title="468">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-469" title="469">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-470" title="470">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-471" title="471">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-472" title="472">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-473" title="473">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-474" title="474">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-475" title="475">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-476" title="476">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-477" title="477">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-478" title="478">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-479" title="479">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-480" title="480">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-481" title="481">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-482" title="482">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-483" title="483">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-484" title="484">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-485" title="485">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-486" title="486">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-487" title="487">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-488" title="488">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-489" title="489">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-490" title="490">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-491" title="491">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-492" title="492">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-493" title="493">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-494" title="494">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-495" title="495">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-496" title="496">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-497" title="497">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-498" title="498">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-499" title="499">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-500" title="500">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-501" title="501">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-502" title="502">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-503" title="503">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-504" title="504">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-505" title="505">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-506" title="506">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-507" title="507">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-508" title="508"></a>
<a class="sourceLine" id="cb1-509" title="509"></a>
<a class="sourceLine" id="cb1-510" title="510">cap <span class="op">=</span> cv2.VideoCapture(<span class="st">&#39;SeveralEmotions.mpg&#39;</span>)</a>
<a class="sourceLine" id="cb1-511" title="511"></a>
<a class="sourceLine" id="cb1-512" title="512"><span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb1-513" title="513">    ret, frame <span class="op">=</span> cap.read()</a>
<a class="sourceLine" id="cb1-514" title="514">    <span class="cf">if</span> <span class="kw">not</span> ret:</a>
<a class="sourceLine" id="cb1-515" title="515">        <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-516" title="516">    face_scan <span class="op">=</span> cv2.CascadeClassifier(<span class="st">&#39;C:/Python38/Lib/site-packages/cv2/data/haarcascade_frontalface_default.xml&#39;</span>)</a>
<a class="sourceLine" id="cb1-517" title="517">    gray_fr <span class="op">=</span> cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</a>
<a class="sourceLine" id="cb1-518" title="518">    faces <span class="op">=</span> face_scan.detectMultiScale(gray_fr, <span class="fl">1.3</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb1-519" title="519"></a>
<a class="sourceLine" id="cb1-520" title="520">    <span class="cf">for</span> (x, y, w, h) <span class="kw">in</span> faces:</a>
<a class="sourceLine" id="cb1-521" title="521">        fc <span class="op">=</span> gray_fr[y:y<span class="op">+</span>h, x:x<span class="op">+</span>w]</a>
<a class="sourceLine" id="cb1-522" title="522"></a>
<a class="sourceLine" id="cb1-523" title="523">        roi <span class="op">=</span> cv2.resize(fc, (<span class="dv">48</span>, <span class="dv">48</span>))</a>
<a class="sourceLine" id="cb1-524" title="524">        prediction <span class="op">=</span> model.predict(roi[np.newaxis, :, :, np.newaxis])</a>
<a class="sourceLine" id="cb1-525" title="525">        index <span class="op">=</span> np.argmax(prediction)</a>
<a class="sourceLine" id="cb1-526" title="526"></a>
<a class="sourceLine" id="cb1-527" title="527">        cv2.putText(frame, emotions[index], (x, y<span class="dv">-3</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="dv">8</span>, (<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">225</span>), <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb1-528" title="528">        cv2.rectangle(frame, (x, y), (x<span class="op">+</span>w, y<span class="op">+</span>h), (<span class="dv">100</span>, <span class="dv">0</span>, <span class="dv">225</span>), <span class="dv">6</span>)</a>
<a class="sourceLine" id="cb1-529" title="529"></a>
<a class="sourceLine" id="cb1-530" title="530">    cv2.imshow(<span class="st">&#39;Video&#39;</span>, cv2.resize(frame, (<span class="dv">1200</span>, <span class="dv">860</span>), interpolation<span class="op">=</span>cv2.INTER_CUBIC))</a>
<a class="sourceLine" id="cb1-531" title="531"></a>
<a class="sourceLine" id="cb1-532" title="532">    <span class="cf">if</span> cv2.waitKey(<span class="dv">1</span>) <span class="op">&amp;</span> <span class="bn">0xFF</span> <span class="op">==</span> <span class="bu">ord</span>(<span class="st">&#39;q&#39;</span>):</a>
<a class="sourceLine" id="cb1-533" title="533">        current_index <span class="op">=</span> index</a>
<a class="sourceLine" id="cb1-534" title="534">        cap.release()</a>
<a class="sourceLine" id="cb1-535" title="535">        cv2.destroyAllWindows()</a>
<a class="sourceLine" id="cb1-536" title="536">        <span class="cf">if</span> current_index <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb1-537" title="537">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks happy!&#39;</span></a>
<a class="sourceLine" id="cb1-538" title="538">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-539" title="539">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-540" title="540">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-541" title="541">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-542" title="542">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-543" title="543">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb1-544" title="544">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks sad.&#39;</span></a>
<a class="sourceLine" id="cb1-545" title="545">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-546" title="546">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-547" title="547">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-548" title="548">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-549" title="549">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-550" title="550">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb1-551" title="551">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks angry.&#39;</span></a>
<a class="sourceLine" id="cb1-552" title="552">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-553" title="553">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-554" title="554">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-555" title="555">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-556" title="556">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-557" title="557">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">3</span>:</a>
<a class="sourceLine" id="cb1-558" title="558">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks scared!&#39;</span></a>
<a class="sourceLine" id="cb1-559" title="559">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-560" title="560">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-561" title="561">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-562" title="562">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-563" title="563">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-564" title="564">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">4</span>:</a>
<a class="sourceLine" id="cb1-565" title="565">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks disgusted.&#39;</span></a>
<a class="sourceLine" id="cb1-566" title="566">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-567" title="567">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-568" title="568">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-569" title="569">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-570" title="570">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-571" title="571">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">5</span>:</a>
<a class="sourceLine" id="cb1-572" title="572">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks surprised!&#39;</span></a>
<a class="sourceLine" id="cb1-573" title="573">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-574" title="574">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-575" title="575">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-576" title="576">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-577" title="577">            <span class="cf">break</span></a>
<a class="sourceLine" id="cb1-578" title="578">        <span class="cf">elif</span> current_index <span class="op">==</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb1-579" title="579">            pred_text <span class="op">=</span> <span class="st">&#39;This person looks neutral.&#39;</span></a>
<a class="sourceLine" id="cb1-580" title="580">            language <span class="op">=</span> <span class="st">&#39;en&#39;</span></a>
<a class="sourceLine" id="cb1-581" title="581">            speech <span class="op">=</span> gTTS(text<span class="op">=</span>pred_text, lang<span class="op">=</span>language, slow<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb1-582" title="582">            speech.save(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-583" title="583">            os.system(<span class="st">&#39;emotion.mp3&#39;</span>)</a>
<a class="sourceLine" id="cb1-584" title="584">            <span class="cf">break</span></a></code></pre></div>
</div>

<footer class="myfoot">
    <div class="foot-text">
        <p>Data Science at William &amp; Mary (2020)</p>
    </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
